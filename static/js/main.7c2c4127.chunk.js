(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{251:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(15),c=n.n(r),l=n(53),i=n(18),u=n(38),s=n.n(u),m=n(85),d=n.n(m),p=n(89),g=n.n(p),h=n(87),f=n.n(h),E=n(52),b=n.n(E),w=n(91),v=n.n(w),j=n(90),y=n.n(j),O=n(88),k=n.n(O),S=function(e){var t=e.zipcode,n=e.onDelete,r=e.dispatchError,c=Object(a.useState)(null),l=Object(i.a)(c,2),u=l[0],s=l[1];function m(){fetch("https://ahs-gitpages.herokuapp.com/weather-report/".concat(t)).then(function(e){return e.json()}).then(function(e){200!==e.cod?(r(e.message||"Something went wrong"),n()):(e.updatedAt=(new Date).toLocaleString(),console.log(e),s(e))})}return Object(a.useEffect)(function(){m()},[]),o.a.createElement(d.a,{style:{margin:5,maxWidth:400}},o.a.createElement(f.a,{className:"card-content"},u?o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null," ",u.name),o.a.createElement("h3",null,t),o.a.createElement("h1",null,u.main.temp,"\xb0F  "),o.a.createElement("div",{className:"temp-display"},o.a.createElement("b",null,u.weather[0].description," "),o.a.createElement("img",{alt:"weather icon",src:"http://openweathermap.org/img/w/"+u.weather[0].icon+".png"})),o.a.createElement("p",null,o.a.createElement("small",null,"Last checked: ",u.updatedAt," "))):o.a.createElement("div",{style:{width:"100%",minHeight:150}},o.a.createElement("div",{style:{width:"50%",margin:"40px auto"}},o.a.createElement(k.a,null)))),o.a.createElement(g.a,null,o.a.createElement(b.a,{"aria-label":"Refresh",color:"primary",component:"span",disabled:!u,onClick:m},o.a.createElement(y.a,null)),o.a.createElement(b.a,{"aria-label":"Delete",onClick:n},o.a.createElement(v.a,null))))},C=n(92),z=n.n(C),D=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],c=n[1];return o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),5===r.length&&(e.onSubmit(r),c(""))}},o.a.createElement(z.a,{fullWidth:!0,label:"Search by zipcode",onChange:function(e){!isNaN(e.target.value)&&e.target.value.length<6&&c(e.target.value)},value:r}))},N=n(93),B=n.n(N),W=function(e){return o.a.createElement(B.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:2e3,open:Boolean(e.message),onClose:e.onClose,ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},e.message)})},x=(n(251),function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)(""),m=Object(i.a)(u,2),d=m[0],p=m[1];return Object(a.useEffect)(function(){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,n=t.latitude,a=t.longitude,o=s.a.lookupByCoords(n,a);o&&(console.log({userLocation:o}),c([o.zip]))},function(e){console.log("Could not load user's location data, loading random location"),c([].concat(Object(l.a)(r),[s.a.random().zip]))})},[]),o.a.createElement("main",null,o.a.createElement(D,{onSubmit:function(e){if(r.some(function(t){return t===e}))return p("A weather report for ".concat(e," is already being displayed"));var t=s.a.lookup(e);if(!t)return p("Invalid U.S. zipcode");c([].concat(Object(l.a)(r),[t]))}}),o.a.createElement("div",{className:"report-wrapper"},r.map(function(e,t){return o.a.createElement(S,{key:e,dispatchError:function(e){return p(e)},onDelete:function(){return function(e){var t=r.slice(0,e).concat(r.slice(e+1));c(t)}(t)},zipcode:e})})),o.a.createElement(W,{onClose:function(){return p("")},message:d}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},94:function(e,t,n){e.exports=n(252)}},[[94,1,2]]]);
//# sourceMappingURL=main.7c2c4127.chunk.js.map